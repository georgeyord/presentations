<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">

    <title>Tripsta - Brand integration</title>

    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

    <link rel="stylesheet" href="../reveal/css/reveal.css">
    <link rel="stylesheet" href="css/docker.css" id="theme">
    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="../reveal/lib/css/zenburn.css">
    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? '../reveal/css/print/pdf.css' : '../reveal/css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>
    <!--[if lt IE 9]>
    <script src="../reveal/lib/js/html5shiv.js"></script>
    <![endif]-->
</head>

<body>


<div class="reveal">
<!-- Any section element inside of this container is displayed as a slide -->
<div class="slides">
<section>
    <h1>Introduction to Docker</h1>

    <div>
        <img src="img/docker.png" style="width: 432px; height: 376px; max-height: none; max-width: none;"/>
        <br/>
    </div>
    <h1>
        What - Why - How
    </h1>
</section>

<section>
    <section>
        <h1>Docker, Containers and the Matrix from Hell</h1>
    </section>

    <section>
        <h2>The Challenge</h2>

        <img style="width: 100%;" src="img/the-challenge.png">
    </section>


    <section>
        <h2>The Matrix from Hell</h2>

        <img style="width: 100%;" src="img/the-matrix-from-hell.png">
    </section>

    <section>
        <h2>Cargo Transport Pre-1960</h2>

        <img style="width: 100%;" src="img/cargo-transport-pre-1960.png">
    </section>

    <section>
        <h2>Also a Matrix from Hell</h2>

        <img style="width: 100%;" src="img/also-a-matrix-from-hell.png">
    </section>

    <section>
        <h2>Solution: Intermodal Shipping Container</h2>

        <img style="width: 100%;" src="img/intermodal-shipping-container.png">
        </p>
    </section>

    <section>
        <h2>Docker is a Container System for Code</h2>

        <img style="width: 100%;" src="img/shipping-container-for-code.png">
    </section>

    <section>
        <h2>Docker Eliminates the Matrix from Hell</h2>

        <img style="width: 100%;" src="img/eliminates-matrix-from-hell.png">
    </section>
</section>

<section>
    <section>
        <h1>Docker Main Features</h1>
        <ul style="margin-top: 20px;text-align: left">
            <li class="fragment">
                Container virtualization
            </li>
            <li class="fragment">
                Build, pack, ship and run applications as containers
            </li>
            <li class="fragment">
                Build once, run everywhere
            </li>
            <li class="fragment">
                Isolated and content agnostic
            </li>
        </ul>
    </section>
    <section>
        <h1>But this isn't new?!!?</h1>
    </section>
    <section>
        <h1>So why should I care?</h1>
        <ul style="margin-top: 20px;text-align: left">
            <li class="fragment">
                Easy (and lightweight!) way to model reality
            </li>
            <li class="fragment">
                Devs care about their app, Ops cares about the containers
            </li>
            <li class="fragment">
                Golden images without the overhead because of file layers
            </li>
        </ul>
    </section>
    <section>
        <h2>VMs vs Containers</h2>

        <img style="width: 100%;" src="img/containers-vs-vms.png">
    </section>

    <section>
        <h2>Why are Docker Containers Lightweight?</h2>

        <img style="width: 100%;" src="img/why-are-containers-lightwight.png">
    </section>
</section>

<section>
    <section>
        <h1>Why people care: Separation of Concerns</h1>

        <img style="width: 100%;" src="img/separation-of-concerns.png">
    </section>
    <section>
        <h2>Why Developers Care</h2>

        <div style="text-align: left;">
            As a Developer I can...
            <ul style="margin-top: 20px;">
                <li class="fragment">have a clean, safe, hygienic, isolated and portable runtime environment for my app
                </li>
                <li class="fragment">have a close to production environment for developing
                </li>
                <li class="fragment">have no worries about missing dependencies, configuration, conflicting versions and
                    other pain points during developing
                </li>
                <li class="fragment">automate testing, integration, packaging…anything you can script
                </li>
                <li class="fragment">test with different versions without risking the stable setup
                </li>
                <li class="fragment">distribute the isolated container to anyone needs my app on their machine either
                    inhouse (developers, QA) or externally (customers, servers)
                </li>
            </ul>
        </div>
    </section>
    <section>
        <h2>Why Developers Care - continued...</h2>

        <div style="text-align: left;">
            As a Developer I can...
            <ul style="margin-top: 20px;">
                <li class="fragment">reduce/eliminate concerns about compatibility on different platforms, either your
                    own or your customers
                </li>
                <li class="fragment">have a working environment fast and reliably
                </li>
                <li class="fragment">have a VM without the overhead of a VM
                </li>
                <li class="fragment">instant replay and reset of image snapshots
                </li>
                <li class="fragment" style="font-weight: bold">That’s the power of Docker
                </li>
            </ul>
        </div>
    </section>
    <section>
        <div style="text-align: left;">
            <h2>{"API Evangelism"}</h2>

            <h3>from bookseller to Infrastructure as a Service (IaaS) API, cloud computing leader</h3>

            <ul style="font-size: smaller">
                <li class="fragment">All teams will henceforth expose their data and functionality through service
                    interfaces.
                </li>
                <li class="fragment">Teams must communicate with each other through these interfaces.
                </li>
                <li class="fragment">There will be no other form of inter-process communication allowed: no direct
                    linking,
                    no direct reads of another team’s data store, no shared-memory model, no back-doors whatsoever. The
                    only
                    communication allowed is via service interface calls over the network.
                </li>
                <li class="fragment">It doesn’t matter what technology they use.
                </li>
                <li class="fragment">All service interfaces, without exception, must be designed from the ground up to
                    be
                    externalizable. That is to say, the team must plan and design to be able to expose the interface to
                    developers in the outside world.
                </li>
                <li class="fragment">No exceptions - <i>Anyone who doesn’t do this will be fired. Thank you; have a nice
                    day!</i>
                </li>
            </ul>
        </div>
    </section>
    <section>
        <h1>Why Devops care?</h1>

        <div style="text-align: left;">
            As a DevOps I can...
            <ul>
                <li class="fragment">configure once, distribute anywhere
                </li>
                <li class="fragment">make the entire lifecycle more efficient, consistent, and repeatable
                </li>
                <li class="fragment">
                    eliminate inconsistencies between development, test, production, and customer environments
                </li>
                <li class="fragment">
                    support segregation of duties
                </li>
                <li class="fragment">
                    dignificantly improve the speed and reliability of continuous deployment and continuous integration
                    systems
                </li>
                <li class="fragment">
                    because the containers are so lightweight, address significant performance, costs, deployment, and
                    portability issues normally associated with VMs
                </li>
            </ul>
        </div>
    </section>
</section>

<section>
    <section>
        <h1>What are the Basics of a Docker System?</h1>

        <img style="width: 100%;" src="img/basics-of-docker-system.png">

        <h2>Image - Container - Registry</h2>
    </section>
    <section>
        <h1>Dockerfile</h1>

        <p style="text-align: left;">
            A Dockerfile contains the instructions to build an image
        </p>
        <pre class="fragment" style="text-align: left; margin-top: 20px;"><code class="bash">
            FROM ubuntu

            RUN apt-get install -y apache2

            ENV APACHE_RUN_USER www-data
            ENV APACHE_RUN_GROUP www-data
            ENV APACHE_LOG_DIR /var/log/apache2

            EXPOSE 80

            ENTRYPOINT ["/usr/sbin/apache2"]
            CMD ["-D", "FOREGROUND"]
        </code></pre>
    </section>
    <section>
        <h1>Image</h1>

        <p style="text-align: left;">
            A read-only File layer containing Libs/App
        </p>
        <ul style="text-align: left; margin-top: 20px;">
            <li class="fragment">
                Images never change. Instead they are re-built.
            </li>
            <li class="fragment">
                Images do not have state.
            </li>
            <li class="fragment">
                Images are stored in repositories and can be distributed through a Registry servers.
            </li>
        </ul>
           <pre class="fragment" style="text-align: left; margin-top: 20px;"><code class="bash">
               docker build -t="apache2" .
           </code></pre>
    </section>
    <section>
        <h1>Container</h1>

        <p style="text-align: left;">
            To activate a “VM” in Docker you run a container from an Image.
        </p>
           <pre class="fragment" style="text-align: left; margin-top: 20px;"><code class="bash">
               docker run -d -p 80 -v /var/www/myapp apache2
           </code></pre>
    </section>
    <section style="text-align: left;">
        <h1>Repository</h1>

        <p class="fragment" style="text-align: left;">
            A repository is a set of images on your local Docker server.
        </p>

        <p class="fragment" style="text-align: left;">
            They can be shared by pushing it to a Registry server.
        </p>
        <pre class="fragment" style="text-align: left; margin-top: 20px;"><code class="bash">
            docker images
        </code></pre>
    </section>
    <section>
        <h1>Registry server</h1>

        <p class="fragment" style="text-align: left;">
            A Registry is a hosted service containing repositories of images which responds to the Registry API.
        </p>

        <p class="fragment" style="text-align: left;">
            You need a registry to pull Images you want to use.
        </p>
        <pre class="fragment" style="text-align: left; margin-top: 20px;"><code class="bash">
            docker pull apache2
        </code></pre>
    </section>
</section>

<section>
    <section>
        <h2>Under the hood</h2>
        <ul style="text-align: left">
            <li class="fragment">
                High Level—It’s a lightweight VM
            </li>
            <li class="fragment">
                Own network interface
            </li>
            <li class="fragment">
                Own process space
            </li>
            <li class="fragment">
                Can share file volumes with host <i>or not</i>
            </li>
            <li class="fragment">
                Can run stuff as root
            </li>
            <li class="fragment">
                Can have its own /sbin/init (different from host)
            </li>
        </ul>
    </section>
    <section style="text-align: left">
        <h4>Technology Stack</h4>

        <h1>A lightweight VM = LXC (Linux Containers)</h1>

        <p class="fragment">
            <i>an operating-system-level virtualization environment for running multiple isolated Linux systems
                (containers) on a single Linux control host.</i>
        </p>
    </section>
    <section style="text-align: left">
        <h4>Technology Stack</h4>

        <h1>Own network interface = Advanced virtual network interface</h1>

        <p class="fragment">
            <i>
                a virtual Ethernet bridge that automatically forwards packets between any other network
                interfaces
                that are attached to it. This lets containers communicate both with the host machine and with
                each
                other.</i>
        </p>
    </section>
    <section style="text-align: left">
        <h4>Technology Stack</h4>

        <h1>Own process space = Kernel Namespaces and cgroups</h1>

        <p class="fragment">
            <i> behind the scenes Docker creates a set of namespaces and control groups for the container.</i>
        </p>
    </section>
    <section style="text-align: left">
        <h4>Technology Stack</h4>

        <h1>File volumes = Union File System</h1>

        <p class="fragment"><i>a Git alike merging of file layers that roduces a final filesystem structure.</i></p>

        <div class="fragment">
            In Union File System, the processes think the whole file system is mounted read-write. But all the changes
            go to the top-most writeable layer, and underneath, the original file in the read-only image is unchanged.
            All read-only Layers are called images. An image never changes.
        </div>
    </section>

    <section class="hidden">
        <h2>Changes and Updates</h2>

        <img style="width: 100%;" src="img/changes-and-updates.png">
    </section>
</section>

<section>
    <section>
        <h1>Use Cases</h1>

        <div style="text-align: left">
            <ul style="font-size: smaller">
                <li class="fragment">
                    NewRelic - Nic Benders, Director of Site Engineering
                </li>
                <li class="fragment" style="list-style: none">
                    <i>
                        "Docker's platform has become an important part of how we build and deploy new services at New
                        Relic. For example, when we launched the New Relic Insights product, Docker gave our development
                        team more independence and let them focus on bringing a great piece of software live on an
                        aggressive schedule. Docker has helped us deliver new services faster than ever before."
                    </i>
                </li>
                <li class="fragment">
                    Ebay - Senior Architect Ted Dziuba
                </li>
                <li class="fragment" style="list-style: none">
                    <i>
                        Use of Docker in a continuous integration process. He uses Docker to implement an efficient,
                        automated path from the developer's laptop through test and QA.
                    </i>
                </li>
                <li class="fragment">
                    Continuous Delivery
                </li>
                <li class="fragment" style="list-style: none">
                    <i>
                        Cambridge Healthcare provides online access to health records and analytics for both patients
                        and clinicians. They replaced several AWS AMIs with a single bare metal host running Docker to
                        speed
                        up their Jenkins-based continuous delivery pipeline.
                    </i>
                </li>
            </ul>
        </div>
    </section>
</section>

<section>
    <section>
        <h1>Docker + Tripsta = ?</h1>
    </section>
    <section>
        <h1>Current usage - External services without hassle</h1>

        <p style="text-decoration: line-through;">
            sudo apt-get install mysql elasticsearch rabbitmq
        </p>
        <pre class="fragment" style="text-align: left; margin-top: 20px;"><code class="bash">
           ./compose.sh external-services up -d
        </code></pre>
        <table class="fragment" style="text-align: left; background-color: #A0A0A0; width: 100%;padding: 10px;">
            <thead>
            <td>
                Service
            </td>
            <td>
                State
            </td>
            </thead>
            <tr>
                <td>
                    externalservices_elasticsearch_1
                </td>
                <td>
                    Up
                </td>
            </tr>
            <tr>
                <td>
                    externalservices_gearman_1
                </td>
                <td>
                    Up
                </td>
            </tr>
            <tr>
                <td>
                    externalservices_mysql_1
                </td>
                <td>
                    Up
                </td>
            </tr>
            <tr>
                <td>
                    externalservices_rabbitmq_1
                </td>
                <td>
                    Up
                </td>
            </tr>
        </table>
    </section>
    <section>
        <h1>Current usage - Development environment for TP24</h1>


        <p class="fragment" style="text-align: left;">
            Run migrations
            <pre class="fragment" style="text-align: left; margin-top: 20px;"><code class="bash">
 ./compose.sh external-services up -d
            </code></pre>
        </p>
        <p class="fragment" style="text-align: left;">
            Run ant
            <pre class="fragment" style="text-align: left; margin-top: 20px;"><code class="bash">
 ./compose.sh run helper ant
            </code></pre>
        </p>
        <p class="fragment" style="text-align: left;">
            Run watchr
            <pre class="fragment" style="text-align: left; margin-top: 20px;"><code class="bash">
 ./compose.sh run helper watchr tests/watchr.rb
            </code></pre>
        </p>
        <p class="fragment" style="text-align: left;">
            Deploy
            <pre class="fragment" style="text-align: left; margin-top: 20px;"><code class="bash">
 ./compose.sh run helper /cap.sh addons deploy:pending
            </code></pre>
        </p>
    </section>
    <section>
        <h1>Future usages</h1>

        <table class="fragment"Future usages style="text-align: left; background-color: #A0A0A0; width: 100%;padding: 10px;font-size: smaller;"
               cellspacing="15">
            <thead style="font-weight: bold">
            <td>Use</td>
            <td>Value</td>
            <td>Size</td>
            <td>Requirements</td>
            </thead>
            <tr>
                <td>XDebug through container</td>
                <td>XL</td>
                <td>S</td>
                <td style="font-style: italic;">-</td>
            </tr>
            <tr class="fragment">
                <td>Cleanup MySQL image</td>
                <td>XL</td>
                <td>M</td>
                <td style="font-style: italic; font-size: smaller;">Auto initialize/ copy/import databases</td>
            </tr>
            <tr class="fragment">
                <td>Have a real server for Private Registry</td>
                <td>L</td>
                <td>S</td>
                <td style="font-style: italic; font-size: smaller;">Get the real server from Cluster</td>
            </tr>
            <tr class="fragment">
                <td>Automate the bundle activation to have multiple staging envs</td>
                <td>L</td>
                <td>L</td>
                <td style="font-style: italic; font-size: smaller;">Script to handle activations, subdomain proxy</td>
            </tr>
            <tr class="fragment">
                <td>Add versions to images</td>
                <td>M</td>
                <td>S</td>
                <td style="font-style: italic; font-size: smaller;">Change the push.sh</td>
            </tr>
            <tr class="fragment">
                <td>Ant should use preconfugured DB</td>
                <td>M</td>
                <td>M</td>
                <td style="font-style: italic; font-size: smaller;">Maintain image for testing DB</td>
            </tr>
        </table>

    </section>
</section>

<section>
    <h2>Want to Learn More?</h2>
    <ul style="text-align: left">
        <li><a href="http://www.docker.io/">www.docker.io</a></li>
        <ul>
            <li>Documentation</li>
            <li>Getting started (tutorial, installation, guide, etc)</li>
            <li>Introductory <a href="http://www.docker.io/the-whole-story/">whitepaper</a></li>
        </ul>
        <li>Github: <a href="http://github.com/dotcloud/docker">dotcloud/docker</a></li>
        <li>IRC: freenode #docker</li>
        <li>Google Group: <a href="https://groups.google.com/forum/#!forum/docker-user">docker-user</a></li>
        <li>Twitter: <a href="http://twitter.com/docker">@docker</a></li>
        <li>Meetups: <a href="http://www.docker.io/meetups">www.docker.io/meetups</a></li>
    </ul>
</section>
</div>


</div>

<script src="../reveal/lib/js/head.min.js"></script>
<script src="../reveal/js/reveal.js"></script>

<script>

    // Full list of configuration options available at:
    // https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,

        transition: 'convex', // none/fade/slide/convex/concave/zoom

        // Optional reveal.js plugins
        dependencies: [
            {
                src: '../reveal/lib/js/classList.js', condition: function () {
                return !document.body.classList;
            }
            },
            {
                src: '../reveal/plugin/markdown/marked.js', condition: function () {
                return !!document.querySelector('[data-markdown]');
            }
            },
            {
                src: '../reveal/plugin/markdown/markdown.js', condition: function () {
                return !!document.querySelector('[data-markdown]');
            }
            },
            {
                src: 'plugin/zoom-js/zoom.js', async: true, condition: function () {
                return !!document.body.classList;
            }
            },
            {
                src: '../reveal/plugin/highlight/highlight.js', async: true, condition: function () {
                return !!document.querySelector('pre code');
            }, callback: function () {
                hljs.initHighlightingOnLoad();
            }
            },
            {src: '../reveal/plugin/notes/notes.js', async: true}
        ]
    });

</script>

</body>
</html>
